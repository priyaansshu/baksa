{"ast":null,"code":"import _createForOfIteratorHelper from\"/Users/priyanshumodi/Desktop/Code/React/dot/client/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";import _slicedToArray from\"/Users/priyanshumodi/Desktop/Code/React/dot/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import\"../style.css\";import{Route,Link,Routes,useNavigate}from\"react-router-dom\";import Game from\"../Game.js\";import{ToastContainer,toast}from'react-toastify';import'react-toastify/dist/ReactToastify.css';import Confetti from'react-confetti';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function GameOver(props){var result;var _useState=useState(4),_useState2=_slicedToArray(_useState,2),gridSize=_useState2[0],setGridSize=_useState2[1];var _useState3=useState(\"flex\"),_useState4=_slicedToArray(_useState3,2),hideWinner=_useState4[0],setHideWinner=_useState4[1];var _useState5=useState(\"none\"),_useState6=_slicedToArray(_useState5,2),showShare=_useState6[0],setShowShare=_useState6[1];var _useState7=useState(true),_useState8=_slicedToArray(_useState7,2),showConfetti=_useState8[0],setShowConfetti=_useState8[1];var _useState9=useState(true),_useState10=_slicedToArray(_useState9,2),recycleConfetti=_useState10[0],setRecycleConfetti=_useState10[1];var history=useNavigate();var generateRandomString=function generateRandomString(myLength){var chars=\"ABCDEFGHIJKLMNOPQRSTUVWXYZ\";var randomArray=Array.from({length:myLength},function(v,k){return chars[Math.floor(Math.random()*chars.length)];});var randomString=randomArray.join(\"\");return randomString;};var newRoomId=generateRandomString(6);(function calcResult(){if(props.gameLeaveWinner==\"none\"){if(props.redScore>props.blueScore){result=\"red\";}else if(props.redScore<props.blueScore){result=\"blue\";}else{result=\"draw\";}}else{result=props.gameLeaveWinner;}})();function createEmoji(){var i=0;if(result==\"draw\"){var message=\"It's a draw\\n\\n\";}else if(result==\"red\"){message=\"👑 Red\\n\\n\";}else{message=\"👑 Blue\\n\\n\";}var _iterator=_createForOfIteratorHelper(props.boxMap.entries()),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var _step$value=_slicedToArray(_step.value,2),key=_step$value[0],value=_step$value[1];if(props.gridSize==4){if(i==4){message+=\"\\n\";i=0;}}else{if(i==8){message+=\"\\n\";i=0;}}if(value==\"#c5183b\"){message+=\"🟥\";}else if(value==\"#3b919b\"){message+=\"🟦\";}else{message+=\"⬜️\";}i++;}}catch(err){_iterator.e(err);}finally{_iterator.f();}console.log(message);navigator.clipboard.writeText(message);}function resultCopied(){toast(\"Result copied to clipboard\",{position:\"top-right\",autoClose:1000,hideProgressBar:true,closeOnClick:true,pauseOnHover:false,draggable:true,progress:undefined});}// useEffect(()=>{\n//     if(props.gameOver){\n//         console.log(\"here\");\n//         setTimeout(()=>{\n//             setShowConfetti(true);\n//         }\n//         ,2000);\n//         setTimeout(()=>{\n//             setRecycleConfetti(false);\n//         }\n//         ,5000);\n//     }\n// }, [props.gameOver])\nreturn/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"logo-container\"}),props.gameLeaveWinner!=\"none\"?/*#__PURE__*/_jsx(\"div\",{className:\"game-leave-message\",children:\"The other player left the room.\"}):null,/*#__PURE__*/_jsx(\"div\",{className:\"winner-outer-container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"winner-container\",id:result+\"-winner-container\"// onMouseEnter={()=>{setHideWinner(\"none\"); setShowShare(\"flex\")}} \n// onMouseLeave={()=>{setHideWinner(\"flex\"); setShowShare(\"none\")}}\n,onClick:function onClick(){resultCopied();createEmoji();},\"data-hover\":\"share\",children:/*#__PURE__*/_jsx(\"div\",{className:\"winner-text-container\",style:{display:hideWinner},children:/*#__PURE__*/_jsxs(\"h2\",{className:\"winner-text\",children:[result==\"draw\"?\"Draw\":result+\" wins\",/*#__PURE__*/_jsx(\"div\",{className:\"share-image-container\"})]})})})}),/*#__PURE__*/_jsx(ToastContainer,{}),/*#__PURE__*/_jsx(\"button\",{className:\"grid-button\",id:props.gridSize==4?\"four-button\":\"eight-button\",onClick:function onClick(){history(\"/\");},children:\"Go Again\"})]});}","map":{"version":3,"sources":["/Users/priyanshumodi/Desktop/Code/React/dot/client/src/Components/GameOver.js"],"names":["React","useState","useEffect","Route","Link","Routes","useNavigate","Game","ToastContainer","toast","Confetti","GameOver","props","result","gridSize","setGridSize","hideWinner","setHideWinner","showShare","setShowShare","showConfetti","setShowConfetti","recycleConfetti","setRecycleConfetti","history","generateRandomString","myLength","chars","randomArray","Array","from","length","v","k","Math","floor","random","randomString","join","newRoomId","calcResult","gameLeaveWinner","redScore","blueScore","createEmoji","i","message","boxMap","entries","key","value","console","log","navigator","clipboard","writeText","resultCopied","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","display"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react'\nimport \"../style.css\"\nimport {Route, Link, Routes, useNavigate} from \"react-router-dom\";\nimport Game from \"../Game.js\"\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport Confetti from 'react-confetti'\n\nexport default function GameOver(props) {\n    var result;\n    const [gridSize, setGridSize] = useState(4);\n    const [hideWinner, setHideWinner] = useState(\"flex\");\n    const [showShare, setShowShare] = useState(\"none\");\n    const [showConfetti, setShowConfetti] = useState(true);\n    const [recycleConfetti, setRecycleConfetti] = useState(true);\n    const history = useNavigate();\n\n    const generateRandomString = (myLength) => {\n        const chars =\n          \"ABCDEFGHIJKLMNOPQRSTUVWXYZ\";\n        const randomArray = Array.from(\n          { length: myLength },\n          (v, k) => chars[Math.floor(Math.random() * chars.length)]\n        );\n      \n        const randomString = randomArray.join(\"\");\n        return randomString;\n    };\n    \n    const newRoomId = generateRandomString(6);\n\n    (function calcResult(){\n        if(props.gameLeaveWinner==\"none\"){\n            if(props.redScore>props.blueScore){\n                result = \"red\";\n            }\n            else if(props.redScore<props.blueScore){\n                result = \"blue\";\n            }\n            else{\n                result = \"draw\";\n            }\n        }\n        else{\n            result = props.gameLeaveWinner\n        }\n    })();\n    \n    function createEmoji(){\n        var i=0;\n        if(result == \"draw\"){\n            var message = \"It's a draw\\n\\n\";\n        }\n        else if(result==\"red\"){\n            message = \"👑 Red\\n\\n\";\n        }\n        else{\n            message = \"👑 Blue\\n\\n\";\n        }\n        for (const [key, value] of props.boxMap.entries()) {\n            if(props.gridSize==4){\n                if(i==4){\n                    message+=\"\\n\";\n                    i=0;\n                }\n            }\n            else{\n                if(i==8){\n                    message+=\"\\n\";\n                    i=0;\n                }\n            }\n            if(value==\"#c5183b\"){\n                message+=\"🟥\";\n            }\n            else if(value==\"#3b919b\"){\n                message+=\"🟦\";\n            }\n            else{\n                message+=\"⬜️\";\n            }\n            i++;\n        }   \n        console.log(message);\n        navigator.clipboard.writeText(message);\n    }\n\n    function resultCopied (){\n        toast(\"Result copied to clipboard\", {\n            position: \"top-right\",\n            autoClose: 1000,\n            hideProgressBar: true,\n            closeOnClick: true,\n            pauseOnHover: false,\n            draggable: true,\n            progress: undefined,\n        });  \n    } \n\n    // useEffect(()=>{\n    //     if(props.gameOver){\n    //         console.log(\"here\");\n    //         setTimeout(()=>{\n    //             setShowConfetti(true);\n    //         }\n    //         ,2000);\n    //         setTimeout(()=>{\n    //             setRecycleConfetti(false);\n    //         }\n    //         ,5000);\n    //     }\n    // }, [props.gameOver])\n\n    return (\n    <>\n        {/* {showConfetti && \n            <Confetti \n                colors = {result==\"blue\"?[\"#3b919b\"]:[\"#c5183b\"]}\n                numberOfPieces = {80}\n                recycle = {recycleConfetti}\n            />\n        }  */}\n        <div className=\"logo-container\"></div>\n        {props.gameLeaveWinner!=\"none\"?\n            <div className=\"game-leave-message\">\n                The other player left the room.\n            </div>\n            :\n            null\n        }\n        <div className=\"winner-outer-container\">\n            <div \n                className=\"winner-container\" \n                id={result+\"-winner-container\"} \n                // onMouseEnter={()=>{setHideWinner(\"none\"); setShowShare(\"flex\")}} \n                // onMouseLeave={()=>{setHideWinner(\"flex\"); setShowShare(\"none\")}}\n                onClick={()=>{\n                    resultCopied();\n                    createEmoji();\n                }}\n                data-hover={\"share\"}\n            >\n                <div \n                    className=\"winner-text-container\" \n                    style={{display: hideWinner}}\n                >\n                        <h2 \n                            className=\"winner-text\">\n                                {result==\"draw\"?\"Draw\":result+\" wins\"}\n                                <div className = \"share-image-container\"/>\n                        </h2>\n                </div>\n            </div>\n        </div>\n        <ToastContainer/>\n        {/* <Link to={\"/game\"}> */}\n            <button \n                className=\"grid-button\" \n                id={props.gridSize==4?\"four-button\":\"eight-button\"} \n                onClick={()=>{history(\"/\")}}\n                >\n                Go Again\n            </button>\n        {/* </Link> */}\n        {/* {console.log(props.gridSize, props.vsComp)} */}\n        {/* <Routes>\n            <Route exact path={\"/game\"} element={<Game gridSize={props.gridSize} vsComp={props.vsComp}/>}/>\n        </Routes> */}\n    </>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}